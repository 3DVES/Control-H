var autoIncrement = require('mongoose-auto-increment');
var mongoose = require('mongoose'),
    Schema = mongoose.Schema,
    ObjectId = mongoose,ObjectId;

var connection = mongoose.createConnection("mongodb://localhost/ControlH3");
    autoIncrement.initilize(connection);

var historySchema= new Schema({
    _id : {type: Number},
    name : {type: String},    
    descripction : {type: String},
    by : {type : String},
    utility : {type: String},
    notes : {type: String},
    priority: {type : String, required: true, enum: {'Low','Mid','High'}},
    //considerar la posibilidad de acotar el numero de estados: hecho, en desarrollo, en pruebas, etc ...
    status: {type: String}    
});

historySchema.plugin(connection.plugin, 'history');
module.exports = mongoose.model('history', historySchema);