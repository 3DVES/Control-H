var autoIncrement = require('mongoose-auto-increment');
var mongoose = require('mongoose'),
    Schema = mongoose.Schema,
    ObjectId = Schema.ObjectId;

var connection = mongoose.createConnection("mongodb://localhost/ControlH3");
    autoIncrement.initialize(connection);

var backlogSchema = new Schema({
    _id : {type : Number, index: {unique: false}},
    projectId : {type : Number, required: true, index: {unique: false}},
    type : {type: String, required:true, enum: ['Product', 'Release', 'Sprint']},
    //It refers to tasks or user stories (id associated).
    items : [{type: Number, required: true}],
    editable : {type: Boolean, required: true}
});

backlogSchema.plugin(autoIncrement.plugin, 'backlog');
module.exports = mongoose.model('backlog', backlogSchema);