var AgendaSchema = require('../models/agendaSchema')

function Agenda(){

}

Agenda.prototype.addAgenda= function(agenda,callback){	
	var agendaSchema= new AgendaSchema(agenda);
	agendaSchema.save(function(error,agendaResult){
		if(error){
			return callback(error,null);			
		}
		else{
			if(!agendaResult){
				return callback(null,null);				
			}
			else{
				return callback(null,agendaResult);
			}
		}
	});
};

Agenda.prototype.getAgendasByIdUser= function(idUser, callback){
	AgendaSchema.find({idUser:idUser},function(error,userAgendas){
		if(error){
			callback(error,null);			
		}
		else{
			if(userAgendas){
				callback(null,userAgendas);
			}
			else{
				callback(null,null);
			}
		}
	});
};

Agenda.prototype.getAgendasUsers= function(callback){
	AgendaSchema.find({},function(error,usersAgendas){
		if(error){
			callback(error,null);			
		}
		else{
			if(usersAgendas){
				callback(null,usersAgendas);
			}
			else{
				callback(null,null);
			}
		}
	});
};


var Agenda= module.exports= new Agenda();